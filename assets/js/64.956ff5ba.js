(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{207:function(t,a,s){"use strict";s.r(a);var e=s(0),v=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"upload-文件上传"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#upload-文件上传"}},[t._v("#")]),t._v(" Upload 文件上传")]),t._v(" "),s("ClientOnly",[s("demo",{attrs:{src:"https://static-df19c143-c147-44fa-84a0-61752f5834cc.bspapp.com/cc-ui/#/views/upload/index"}},[s("h2",{attrs:{id:"介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),s("p",[t._v("该组件用于文件上传, 基于uni-app的选择图片和上传文件二次封装, 支持更多自定义。")]),t._v(" "),s("h2",{attrs:{id:"代码演示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码演示"}},[t._v("#")]),t._v(" 代码演示")]),t._v(" "),s("h4",{attrs:{id:"基础用法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础用法"}},[t._v("#")]),t._v(" 基础用法")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("cc-upload")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":action")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@uplpadSuccess")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("uplpadSuccess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("cc-upload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 该地址为演示地址 请勿直接使用")]),t._v("\n      action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 'http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("upload\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("uplpadSuccess")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'uplpadSuccess'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"自定义样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自定义样式"}},[t._v("#")]),t._v(" 自定义样式")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("cc-upload")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("action")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://localhost:3000/upload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("cc-button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("primary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("round")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("small"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("点击上传"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("cc-button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("cc-upload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" Api")]),t._v(" "),s("h4",{attrs:{id:"props"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#props"}},[t._v("#")]),t._v(" Props")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("属性名")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("默认值")]),t._v(" "),s("th",[t._v("可选值")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("action")]),t._v(" "),s("td",[t._v("服务器地址")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("-")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("maxCount")]),t._v(" "),s("td",[t._v("最大选择图片的数量")]),t._v(" "),s("td",[t._v("string / number")]),t._v(" "),s("td",[t._v("99")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("imageMode")]),t._v(" "),s("td",[t._v("预览图片显示模式")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("aspectFill")]),t._v(" "),s("td",[t._v("同uni-app image组件mode属性")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("header")]),t._v(" "),s("td",[t._v("上传请求头信息")]),t._v(" "),s("td",[t._v("object")]),t._v(" "),s("td",[t._v("{}")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("td",[t._v("上传文件的字段名，供后端获取使用")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("file")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("sizeType")]),t._v(" "),s("td",[t._v("上传选择图片的模式, original 原图，compressed 压缩图，默认二者都有，H5无效")]),t._v(" "),s("td",[t._v("array")]),t._v(" "),s("td",[t._v("['original', 'compressed']")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("sourceType")]),t._v(" "),s("td",[t._v("选择图片的来源，album-从相册选图，camera-使用相机，默认二者都有")]),t._v(" "),s("td",[t._v("array")]),t._v(" "),s("td",[t._v("['album', 'camera']")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("isPreview")]),t._v(" "),s("td",[t._v("是否开启图片预览")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("true")]),t._v(" "),s("td",[t._v("false")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("deletable")]),t._v(" "),s("td",[t._v("是否显示删除按钮")]),t._v(" "),s("td",[t._v("boolean")]),t._v(" "),s("td",[t._v("true")]),t._v(" "),s("td",[t._v("false")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("maxSize")]),t._v(" "),s("td",[t._v("单个图片上传大小")]),t._v(" "),s("td",[t._v("number / string")]),t._v(" "),s("td",[t._v("Number.MAX_VALUE")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("fileList")]),t._v(" "),s("td",[t._v("默认显示的图片列表")]),t._v(" "),s("td",[t._v("array")]),t._v(" "),s("td",[t._v("[]")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("limitType")]),t._v(" "),s("td",[t._v("允许的图片后缀")]),t._v(" "),s("td",[t._v("array")]),t._v(" "),s("td",[t._v("['png', 'jpg', 'jpeg', 'webp', 'gif']")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("uploadButtonText")]),t._v(" "),s("td",[t._v("上传按钮文字")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("选择图片")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("uploadButtonIcon")]),t._v(" "),s("td",[t._v("上传按钮图标")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("plusempty")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("uploadButtonSize")]),t._v(" "),s("td",[t._v("上传按钮图标尺寸")]),t._v(" "),s("td",[t._v("string / number")]),t._v(" "),s("td",[t._v("16")]),t._v(" "),s("td",[t._v("-")])])])]),t._v(" "),s("h4",{attrs:{id:"events"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#events"}},[t._v("#")]),t._v(" Events")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("属性名")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("回调参数")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("oversize")]),t._v(" "),s("td",[t._v("图片大小超出最大允许大小时触发")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("file: 超出大小的文件, fileList: 文件列表")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("uplpadSuccess")]),t._v(" "),s("td",[t._v("上传成功时触发")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("res: 后端返回的请求结果")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("uploadError")]),t._v(" "),s("td",[t._v("上传失败时触发")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("error: 上传失败的错误")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("change")]),t._v(" "),s("td",[t._v("上传状态变化时触发, 不管是成功还是失败")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("res: 后端返回的请求结果")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("chooseFail")]),t._v(" "),s("td",[t._v("选择图片时失败时触发")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("res: 选择图片时失败的错误")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("preview")]),t._v(" "),s("td",[t._v("预览图片时触发")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("{item: 预览的图片, index: 当前预览图片的下标}")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("delete")]),t._v(" "),s("td",[t._v("删除预览图片时触发")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("{item: 预览的图片, index: 当前预览图片的下标}")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("listChange")]),t._v(" "),s("td",[t._v("文件列表发生变化时触发")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("fileList: 当前文件列表")])])])]),t._v(" "),s("h4",{attrs:{id:"methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[t._v("#")]),t._v(" Methods")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("属性名")]),t._v(" "),s("th",[t._v("说明")]),t._v(" "),s("th",[t._v("类型")]),t._v(" "),s("th",[t._v("回调参数")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("clear")]),t._v(" "),s("td",[t._v("清空文件列表")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("-")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("abort")]),t._v(" "),s("td",[t._v("取消文件上传")]),t._v(" "),s("td",[t._v("events")]),t._v(" "),s("td",[t._v("-")])])])]),t._v(" "),s("h4",{attrs:{id:"slots"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#slots"}},[t._v("#")]),t._v(" Slots")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("属性名")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("default")]),t._v(" "),s("td",[t._v("自定义上传按钮")])])])])])],1)],1)}),[],!1,null,null,null);a.default=v.exports}}]);